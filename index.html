<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>BMI Calculator</title>
    </head>
    <body>
        <input type="text" id="heightInput" placeholder="Enter your height (inches)">
        <input type="text" id="weightInput" placeholder="Enter your weight (pounds)">
        <button id="submitButton">Submit</button>
        <p id="output"></p>
        <p id="errorMessage" style="color: red;"></p> <!-- Error message for empty fields -->
        
        <script>
            const heightInput = document.getElementById('heightInput');
            const weightInput = document.getElementById('weightInput');
            const submitButton = document.getElementById('submitButton');
            const outputParagraph = document.getElementById('output');    
            const errorMessage = document.getElementById('errorMessage');

            function displayBMI() {
                const height = heightInput.value;
                const weight = weightInput.value;

                // Ensure both height and weight inputs are filled
                if (height && weight) {
                    const BMI = (weight * 703) / Math.pow(height, 2);
                    
                    // Only set textContent if the outputParagraph is properly selected
                    if (outputParagraph) {
                        outputParagraph.textContent = `Your BMI is: ${BMI.toFixed(2)}`;
                    }
                    
                    // Clear error message if there is any
                    if (errorMessage) {
                        errorMessage.textContent = "";
                    }
                } else {
                    // Clear BMI output
                    if (outputParagraph) {
                        outputParagraph.textContent = "";
                    }

                    // Show error message if both fields are not filled
                    if (errorMessage) {
                        errorMessage.textContent = "Please fill in height and weight fields.";
                    }
                }
            }   

            // Event listener for the submit button
            submitButton.addEventListener('click', displayBMI);

            // Function to handle Enter key press and focus behavior
            function handleKeyPress(event) {
                if (event.key === 'Enter') {
                    event.preventDefault(); // Prevent default behavior of Enter key

                    const height = heightInput.value;
                    const weight = weightInput.value;

                    // If both fields are empty, display an error message and focus on the height input
                    if (!height && !weight) {
                        if (errorMessage) {
                            errorMessage.textContent = "Please fill in height and weight fields.";
                        }
                        heightInput.focus(); // Focus on the first input (height)
                    }
                    // If height is empty but weight is filled, focus on heightInput
                    else if (!height && weight) {
                        if (errorMessage) {
                            errorMessage.textContent = ""; // Clear previous error
                        }
                        heightInput.focus(); // Move focus to height input
                    }
                    // If weight is empty but height is filled, focus on weightInput
                    else if (height && !weight) {
                        if (errorMessage) {
                            errorMessage.textContent = ""; // Clear previous error
                        }
                        weightInput.focus(); // Move focus to weight input
                    }
                    // If both are filled, calculate BMI
                    else {
                        displayBMI();
                    }
                }
            }

            // Add event listeners to both input fields
            heightInput.addEventListener('keydown', handleKeyPress);
            weightInput.addEventListener('keydown', handleKeyPress);
        </script>
    </body>
</html>
